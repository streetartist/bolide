æš‚ä¸æ”¯æŒï¼š
  - â¸ï¸ æ··åˆç±»å‹å…ƒç»„çš„æ‰“å°ï¼ˆç›®å‰æ˜¾ç¤ºæŒ‡é’ˆåœ°å€ï¼‰
Bolide ç°åœ¨å¯ä»¥è°ƒç”¨ C åº“ã€‚è®©æˆ‘æ€»ç»“å½“å‰èƒ½åŠ›ï¼š

  âœ… å·²æ”¯æŒ

  | åŠŸèƒ½           | ç¤ºä¾‹                         |
  |----------------|------------------------------|
  | è°ƒç”¨ C å‡½æ•°    | abs(-42) â†’ 42                |
  | åŸºæœ¬ç±»å‹       | c_int, c_double, i32, u64 ç­‰ |
  | æŒ‡é’ˆç±»å‹       | *void, *c_int                |
  | å‡½æ•°æŒ‡é’ˆå›è°ƒ   | fn(i64, i64) -> i64          |
  | ç±»å‹è‡ªåŠ¨è½¬æ¢   | Bolide int â†” C c_int         |
  | è·¨å¹³å°è°ƒç”¨çº¦å®š | Windows/Linux è‡ªåŠ¨é€‚é…       |

  âš ï¸ å½“å‰é™åˆ¶

  | é™åˆ¶       | è¯´æ˜                   |
  |------------|------------------------|
  | ç»“æ„ä½“ä¼ å€¼ | æš‚ä¸æ”¯æŒæŒ‰å€¼ä¼ é€’ç»“æ„ä½“ |
  | å¯å˜å‚æ•°   | printf ç­‰æš‚ä¸æ”¯æŒ      |
  | å­—ç¬¦ä¸²     | éœ€æ‰‹åŠ¨å¤„ç† C å­—ç¬¦ä¸²    |
  | å¤æ‚å›è°ƒ   | é—­åŒ…/æ•è·å˜é‡æš‚ä¸æ”¯æŒ  |

---

## ğŸ“Œ Channel å¯¹è±¡ä¼ é€’è¯­ä¹‰ (å¾…å®ç°)

### ç°çŠ¶
- Channel ç›®å‰åªæ”¯æŒ `i64` å€¼ä¼ é€’ï¼ˆint/float çš„ Copy è¯­ä¹‰ï¼‰
- ä¸æ”¯æŒä¼ é€’ stringã€bigintã€class å®ä¾‹ç­‰å¤æ‚å¯¹è±¡

### è®¾è®¡æ–¹æ¡ˆï¼šArc Clone è¯­ä¹‰

```
å‘é€: ch <- obj   â†’  Arc::clone() å¢åŠ å¼•ç”¨è®¡æ•°
æ¥æ”¶: let x = <- ch  â†’  è·å¾— Arc å…±äº«å¼•ç”¨
```

### æ€§èƒ½è¯„ä¼°
| æ“ä½œ | å¼€é”€ | è¯´æ˜ |
|------|------|------|
| Arc::clone() | ~30 ns | åŸå­åŠ å¼•ç”¨è®¡æ•°ï¼Œæå¿« |
| æ·±æ‹·è´ 1KB | ~500 ns | éœ€è¦ memcpy |
| **ç»“è®º** | Arc å¿« 10x+ | âœ… æ¨èæ–¹æ¡ˆ |

### æ³¨æ„äº‹é¡¹
- å…±äº«å¯¹è±¡éœ€éµå®ˆä¸å¯å˜çº¦å®šï¼Œé¿å…å‘é€åä¿®æ”¹åŸå¯¹è±¡
- é«˜äº‰ç”¨åœºæ™¯ (64+ çº¿ç¨‹) å¯èƒ½å‡ºç°ç¼“å­˜è¡Œ ping-pong
- ä¸ Bolide ç°æœ‰ ARC å†…å­˜ç®¡ç†å®Œç¾å¥‘åˆ

### å®ç°è¦ç‚¹
1. æ‰©å±• `BolideChannel` æ”¯æŒ `*mut c_void` å€¼ç±»å‹
2. å‘é€æ—¶è°ƒç”¨ `bolide_rc_retain()` å¢åŠ å¼•ç”¨è®¡æ•°
3. æ¥æ”¶æ—¶è¿”å›æŒ‡é’ˆï¼Œç”±æ¥æ”¶æ–¹æŒæœ‰å¼•ç”¨
4. å…³é—­é€šé“æ—¶é‡Šæ”¾é˜Ÿåˆ—ä¸­æœªæ¶ˆè´¹çš„å¯¹è±¡

---

## ğŸ“Œ é«˜å¹¶å‘åç¨‹æ¶æ„å‡çº§ (å¾…å®ç°)

### ç°çŠ¶åˆ†æ
- å½“å‰åç¨‹ä½¿ç”¨ **1:1 çº¿ç¨‹æ¨¡å‹**ï¼ˆæ¯ä¸ª async åˆ›å»º OS çº¿ç¨‹ï¼‰
- 100K å¹¶å‘ = 100K çº¿ç¨‹ = ~200GB å†…å­˜ âŒ
- é€‚åˆ GUI/è®¡ç®—ï¼Œä¸é€‚åˆé«˜å¹¶å‘ç½‘ç»œæœåŠ¡

### ç›®æ ‡
æ”¯æŒ **100K+ å¹¶å‘ä»»åŠ¡**ï¼Œå†…å­˜æ§åˆ¶åœ¨ ~50MB

### æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | æ”¹åŠ¨é‡ | å‘¨æœŸ | æ€§èƒ½ | æ¨è |
|------|--------|------|------|------|
| **Tokio é›†æˆ** | ~500 è¡Œ | 1-2 å‘¨ | 100x | â­â­â­â­â­ |
| è‡ªç ” M:N è°ƒåº¦ | ~2000 è¡Œ | 2-3 æœˆ | 100x | â­â­â­ |
| Stackless çŠ¶æ€æœº | ~5000 è¡Œ | 6+ æœˆ | 1000x | â­â­ |

### æ¨èæ–¹æ¡ˆï¼šTokio é›†æˆ

```toml
# Cargo.toml
tokio = { version = "1", features = ["rt-multi-thread"] }
```

```rust
// æ ¸å¿ƒæ”¹åŠ¨ - coroutine.rs
static RUNTIME: Lazy<Runtime> = Lazy::new(|| Runtime::new().unwrap());

pub fn bolide_coroutine_spawn_int(func: fn() -> i64) -> *mut BolideFuture {
    RUNTIME.spawn_blocking(move || func())  // æ›¿æ¢ thread::spawn
}
```

### å®ç°æ­¥éª¤
1. æ·»åŠ  tokio ä¾èµ–
2. åˆ›å»ºå…¨å±€ Runtime
3. æ›¿æ¢ `thread::spawn` â†’ `tokio::spawn_blocking`
4. ï¼ˆå¯é€‰ï¼‰æ·»åŠ çœŸæ­£çš„ async I/O æ”¯æŒ

### åç»­æ‰©å±•
- `await http_get(url)` - å¼‚æ­¥ HTTP
- `await read_file(path)` - å¼‚æ­¥æ–‡ä»¶ I/O
- `await sleep(ms)` - å¼‚æ­¥å®šæ—¶å™¨

---

## ğŸ“Œ çº¿ç¨‹æ± æ€§èƒ½ä¼˜åŒ– (å¾…å®ç°)

### å½“å‰ç“¶é¢ˆ
- å•ä¸€å…¨å±€é˜Ÿåˆ— + Mutexï¼Œé«˜äº‰ç”¨æ—¶æˆä¸ºç“¶é¢ˆ
- Worker è¶Šå¤šï¼Œé”äº‰ç”¨è¶Šä¸¥é‡

### ä¼˜åŒ–æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | æ”¹åŠ¨é‡ | æ€§èƒ½æå‡ | æ¨è |
|------|--------|----------|------|
| **Rayon æ›¿æ¢** | ~50 è¡Œ | 5-10x | â­â­â­â­â­ |
| Work-Stealing | ~300 è¡Œ | 5-10x | â­â­â­â­ |
| æ— é”é˜Ÿåˆ— | ~200 è¡Œ | 2-3x | â­â­â­ |
| CPU äº²å’Œæ€§ | ~20 è¡Œ | 1.1-1.3x | â­â­â­ |

### æ¨èæ–¹æ¡ˆï¼šRayon

```toml
# Cargo.toml
rayon = "1.10"
```

```rust
// æ›¿æ¢çº¿ç¨‹æ± å®ç°
rayon::spawn(|| expensive_computation());
```

### Work-Stealing å¤‡é€‰

```toml
crossbeam-deque = "0.8"
```

```rust
// æ¯ä¸ª Worker æœ‰æœ¬åœ°é˜Ÿåˆ—ï¼Œç©ºé—²æ—¶ä»å…¶ä»– Worker å·ä»»åŠ¡
// å‡å°‘é”äº‰ç”¨ï¼Œæå‡ 5-10 å€æ€§èƒ½
```

### æ€§èƒ½æå‡é¢„æœŸ
| Workers | å½“å‰ (Mutex) | ä¼˜åŒ–å |
|---------|--------------|--------|
| 4 | ~200 ns/task | ~50 ns/task |
| 8 | ~500 ns/task | ~80 ns/task |
| 16 | ~2000 ns/task | ~100 ns/task |