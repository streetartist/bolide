// 单线程 spawn + join 测试

fn compute(x: bigint) -> bigint {
    let result: bigint = x + x + 1B;
    return result;
}

fn main_test() {
    let a: bigint = 100B;
    print("Before spawn:");
    bigint_debug_stats();

    let h = spawn compute(a);
    print("After spawn:");
    bigint_debug_stats();

    let r: bigint = join(h);
    print("After join:");
    print(r);
    bigint_debug_stats();
}

main_test();
print("Final:");
bigint_debug_stats();
